# 실전 퀴즈 3 / 5
- ## 상황 ③
	- 주문 생성 시
		- 주문 테이블
		- 포인트 차감
		- 쿠폰 사용
		- 하나라도 실패하면 전체 롤백 필요
		- 트래픽은 보통 수준
	-
	- ### 질문
		- DB 격리 수준은?
		- 락 전략은?
		- Deadlock을 피하기 위한 핵심 설계 포인트는?
		- 한 줄로 정리한 채택 조합은?
		  
		  ---
	- ### ✅ 답 요약 (정답)
		- DB 격리 수준: **RC**
		- 락 전략: **비관적 락**
		- Deadlock 방지 핵심: **락 획득 순서 고정**
		- 채택 조합 한 줄:
		  
		  **RC + 비관적 락 + 락 순서 고정 + 짧은 트랜잭션**
		  
		  ---
	- ### 🧠 해설
		- 문제의 본질은 격리 수준이 아니라 **여러 자원 동시 락**
		- 모든 트랜잭션이 **항상 같은 순서로만** 자원을 잠그게 설계
		- 외부 API, 알림은 트랜잭션 밖으로 분리
		- 이 패턴은 주문·결제 계열의 실무 표준